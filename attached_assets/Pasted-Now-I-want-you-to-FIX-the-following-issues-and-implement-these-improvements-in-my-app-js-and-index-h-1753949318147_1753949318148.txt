Now I want you to FIX the following issues and implement these improvements in my app.js and index.html (no database should be used):

ğŸš¨ 1. Add Auto Re-Routing If User Goes Off-Path

Issue: User might turn wrong, but app doesn't re-calculate route

What to Do:

Use navigator.geolocation.watchPosition() to continuously monitor userâ€™s location every few seconds

After initial directions are loaded, compare userâ€™s live position with the next expected coordinate

If the user is more than 15 meters away from the expected route:
â†’ Speak: â€œYouâ€™ve moved off the route, recalculatingâ€¦â€
â†’ Re-call Directions API with current location
â†’ Re-speak new instructions

Add a function:
function monitorPosition(expectedPath) {
watchPosition(); compare current lat/lng with next step; re-navigate if too far
}

ğŸ§­ 2. Add Location Error Handling (for GPS)

Issue: If location access is denied or fails, app crashes silently

What to Do:

Wrap navigator.geolocation.getCurrentPosition() in a try/catch or pass in an error callback

If error.code === 1 â†’ User denied permission

Use alert() or speechSynthesis to say:
â€œLocation access is required. Please enable GPS in your browser settings.â€

Also display a <div> message like:

<div id="error-message">Location access is off</div>
âœ… 3. Allow Saving Location in LocalStorage (No Database)

Issue: Only hardcoded locations (library, stairs, etc.)

What to Do:

When user says: â€œSave this location as hostelâ€ â†’ Gemini returns:
{ action: "save_location", place_name: "hostel" }

Get userâ€™s current lat/lng

Save to localStorage:
localStorage.setItem("hostel", JSON.stringify({lat:..., lng:...}))

Later, when user says: â€œNavigate to hostelâ€
â†’ Check if destination in hardcoded list
â†’ If not, check localStorage using:
const data = JSON.parse(localStorage.getItem("hostel"))

âœ… 4. Add UI Feedback on Command Execution

Issue: App doesnâ€™t tell what action itâ€™s performing (silent)

What to Do:

Add a <div id="status"></div> in index.html near the camera

In app.js:

When Gemini command is â€œnavigateâ€, update the text:
document.getElementById("status").innerText = "Now navigating to canteenâ€¦"

When rerouting â†’ Update text to: "Re-routing..."

On error â†’ Show: "Navigation failed."

Also optionally speak it aloud using Web Speech API.

ğŸ“¦ Summary:

app.js:

Add watchPosition() + rerouting logic

Wrap location calls with error handling

Add localStorage set/get for new places

Update DOM with action status

index.html:

Add #status and #error-message placeholder elements