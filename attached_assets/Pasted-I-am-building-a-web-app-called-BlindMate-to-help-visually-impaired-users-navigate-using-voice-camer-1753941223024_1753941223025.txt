I am building a web app called BlindMate to help visually impaired users navigate using voice, camera, and location. I want you to help me implement the following features without using any database. The app already has Gemini integration and uses a webcam.

🎯 Features to Implement:

🗺️ Voice-based Navigation to Predefined Locations (No DB)

User says: “Take me to library”

Gemini returns JSON:
{ "action": "navigate", "destination": "library" }

In app.js, define a const object:
const locations = {
"library": { lat: 26.4011, lng: 80.3023 },
"stairs": { lat: 26.4004, lng: 80.3018 },
"canteen": { lat: 26.3995, lng: 80.2997 }
};

Get user’s current location with navigator.geolocation.getCurrentPosition()

Fetch Google Maps Directions API using:
https://maps.googleapis.com/maps/api/directions/json?origin=lat,lng&destination=lat,lng&mode=walking&key=API_KEY

Parse response and extract route instructions

Use Web Speech API to speak the route to the user

If user says a place not in the list → speak: “I don’t know that location”

📢 Route Preview before Walking

After receiving directions:

Parse the response’s legs[0].steps[]

Speak the first 2–3 steps clearly:
e.g. “You are 150 meters from the library. Walk 50 meters straight, then turn left.”

🧭 Auto Reroute if User Goes Off Path

Use navigator.geolocation.watchPosition() to track position every few seconds

Compare user location with expected route coordinates

If distance deviation > 15 meters:

Call Directions API again

Speak: “You’ve moved off path. Recalculating…”

🎤 Gemini Command Integration

Use Web Speech API for continuous voice input

Gemini should return JSON like:

{ "action": "navigate", "destination": "canteen" }

{ "action": "preview_route", "destination": "library" }

Based on JSON, JS should:

Navigate to that place if destination exists in locations{}

Speak route summary (preview)

Watch for off-track user and reroute

🧠 Tech Stack:

HTML + JS frontend

No backend needed

Use Gemini for intent extraction

Use Google Maps Directions API for walking routes

Use Web Speech API for voice recognition and voice output

No database — only hardcoded object (locations) in app.js

🛡️ Secure API key: Don’t expose Google Maps API key in JS directly — use .env or a minimal Flask proxy if needed

🎯 Output I Expect:

app.js updated with:

predefined location object

fetch directions from Google API

preview route + voice TTS

rerouting logic using watchPosition

Gemini JSON action routing logic

index.html has a button or UI section that says “Listening…” and triggers voice input