<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlindMate - AI Assistant for Visually Impaired</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- TensorFlow.js -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>
</head>
<body>
    <div class="container-fluid h-100">
        <header class="row bg-primary text-white py-3">
            <div class="col-12 text-center">
                <h1 class="display-4 mb-0">
                    <i class="fas fa-eye" aria-hidden="true"></i>
                    BlindMate
                </h1>
                <p class="lead mb-0">Your AI-Powered Navigation Assistant</p>
            </div>
        </header>

        <main class="row flex-grow-1">
            <!-- Video Feed Section -->
            <div class="col-lg-8 col-12 p-4">
                <div class="card h-100">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h3 class="mb-0">
                            <i class="fas fa-camera" aria-hidden="true"></i>
                            Live Detection Feed
                        </h3>
                        <span id="detectionStatus" class="badge bg-secondary">Inactive</span>
                    </div>
                    <div class="card-body position-relative p-0">
                        <video id="webcam" autoplay muted playsinline class="w-100 h-100" style="object-fit: cover;"></video>
                        <canvas id="canvas"></canvas>
                        
                        <!-- Detection indicator -->
                        <div id="detectionIndicator" class="detection-indicator" style="display: none;">
                            <i class="fas fa-eye"></i> Detecting Objects
                        </div>
                        
                        <!-- Loading overlay -->
                        <div id="loadingOverlay" class="position-absolute top-50 start-50 translate-middle text-center">
                            <div class="spinner-border text-primary mb-3" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                            <p class="h5">Initializing AI Detection...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Control Panel -->
            <div class="col-lg-4 col-12 p-4">
                <div class="card h-100">
                    <div class="card-header">
                        <h3 class="mb-0">
                            <i class="fas fa-cog" aria-hidden="true"></i>
                            Control Panel
                        </h3>
                    </div>
                    <div class="card-body d-flex flex-column">
                        <!-- Status Display -->
                        <div class="mb-4">
                            <h5>System Status</h5>
                            <div id="systemStatus" class="alert alert-info" role="alert">
                                <i class="fas fa-info-circle" aria-hidden="true"></i>
                                Waiting to initialize...
                            </div>
                        </div>

                        <!-- Language Selection -->
                        <div class="mb-4">
                            <label for="languageSelect" class="form-label h5">
                                <i class="fas fa-language" aria-hidden="true"></i>
                                Language
                            </label>
                            <select id="languageSelect" class="form-select form-select-lg">
                                <option value="en-IN">English (India)</option>
                                <option value="hi-IN">हिंदी (Hindi)</option>
                                <option value="ta-IN">தமிழ் (Tamil)</option>
                                <option value="te-IN">తెలుగు (Telugu)</option>
                                <option value="bn-IN">বাংলা (Bengali)</option>
                                <option value="mr-IN">मराठी (Marathi)</option>
                                <option value="gu-IN">ગુજરાતી (Gujarati)</option>
                            </select>
                        </div>

                        <!-- Control Buttons -->
                        <div class="d-grid gap-3 flex-grow-1">
                            <button id="startDetectionBtn" class="btn btn-success btn-lg">
                                <i class="fas fa-play" aria-hidden="true"></i>
                                Start Detection
                            </button>
                            
                            <button id="stopDetectionBtn" class="btn btn-danger btn-lg" disabled>
                                <i class="fas fa-stop" aria-hidden="true"></i>
                                Stop Detection
                            </button>
                            
                            <button id="voiceCommandBtn" class="btn btn-primary btn-lg">
                                <i class="fas fa-microphone" aria-hidden="true"></i>
                                Voice Command
                            </button>
                            <small class="text-muted text-center mt-1 mb-2">
                                Try: "start detection", "stop", "take me to library", "where am I?"
                            </small>
                            
                            <button id="locationBtn" class="btn btn-warning btn-lg">
                                <i class="fas fa-location-dot" aria-hidden="true"></i>
                                Enable Location
                            </button>
                        </div>

                        <!-- Status Indicators -->
                        <div class="mt-4">
                            <div class="row text-center">
                                <div class="col-6">
                                    <span class="badge bg-secondary" id="detectionStatus">Inactive</span>
                                    <br><small class="text-muted">Detection</small>
                                </div>
                                <div class="col-6">
                                    <span class="badge bg-secondary" id="voiceStatus">Ready</span>
                                    <br><small class="text-muted">Voice</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="row bg-dark text-white py-3">
            <div class="col-12 text-center">
                <p class="mb-0">
                    <i class="fas fa-heart text-danger" aria-hidden="true"></i>
                    Empowering Independence Through Technology
                </p>
            </div>
        </footer>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Google Maps API - Note: Replace with valid API key for navigation features -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDummy_Key_For_Demo&libraries=geometry,places"></script>
    
    <!-- Main Application Script -->
    <script src="app.js"></script>
</body>
</html>
